## Step 1. What is that one sentence vector you have?

It’s just a little list of numbers that summarizes the whole classroom’s knowledge. Nothing mystical — think of it as a compact “class backpack.”

- Imagine one backpack with three shelves.
  - Shelf 1: worked example problems.
  - Shelf 2: clear explanations.
  - Shelf 3: storytelling / examples that make things intuitive.
- The sentence vector is like: how full each shelf is (numbers telling us that).

```css
SentenceVec ≈ [1.0, 1.0, 0.6667]
```

Read it as:

- Shelf 1 (examples) = 1.0 → a decent number of worked examples.
- Shelf 2 (explanations) = 1.0 → explanations are similarly present.
- Shelf 3 (stories) = 0.67 → a bit less storytelling than the others.

In real models the components are learned features — the model figures out useful “shelves” by itself (they don’t always map cleanly to human words like “math” or “storytelling”). But the backpack analogy still helps.

## Step 2. Comparing two sentence vectors

Now imagine we have two classrooms (two sentences). Each one has its own “class backpack” (sentence vector).

- Classroom A’s backpack: `[1.0, 1.0, 0.67]` (balanced, with fewer stories).
- Classroom B’s backpack: maybe `[0.9, 1.1, 0.6]` (almost the same).
- Classroom C’s backpack: `[0.1, 0.2, 3.0]` (hardly any examples/explanations, but LOTS of stories).

Question: How do we check if two backpacks (two sentences) are similar?

Analogy: measuring direction of shelves

- If Classroom A and B both fill the same shelves (examples + explanations), even if one has slightly more, they “point in the same direction” → similar meaning.
- Classroom C fills a completely different shelf (storytelling only) → it points in a very different direction → different meaning.

This is why we talk about “angles between vectors.”

- If two backpacks have their weight on the same shelves, their arrows point in the same direction → angle small → they’re similar.
- If they fill totally different shelves, arrows are at 90° → they’re unrelated.

## Step 3. Cosine similarity

Dot product mixes two different ideas at once:

- How long the vectors are (magnitude).
  - If one backpack is huge (super full), the dot product gets big — even if the other one doesn’t align that well.
  - So big vectors → big dot products.
- How aligned the vectors are (direction).
  - If two backpacks put weight on the same shelves, dot product grows.
  - If they are at right angles (focus on completely different shelves), dot product = 0.
  - If they are opposite (fill shelves in opposite ways), dot product is negative.

So the dot product mixes `direction similarity + size of vectors`.

This makes it tricky: a big dot doesn’t necessarily mean _“same direction.”_ It might just mean _“one backpack is super full.”_

Cosine similarity removes the size effect.

$$
\cos(A, B) = \frac{A \cdot B}{\lVert A \rVert \lVert B \rVert}
$$

- Numerator (dot) = overlap (size + direction).
- Denominator = max possible overlap, given how full the backpacks are.
- Result = “What fraction of the maximum overlap did they achieve?”

That’s why cosine only measures directional alignment.

Let’s test with a toy case:

- $x = [1, 0]$
- $y = [2, 0]$

Both point in the same direction (x-axis).

- Dot product: $x \cdot y = 1 \cdot 2 = 2$.
- Norms: $\lVert x \rVert = 1,\;\; \lVert y \rVert = 2$.
- Cosine: $2 / (1 \cdot 2) = 1$.

Dot = 2 (**not obvious they are perfectly aligned**).  
Cosine = 1 (**clear: exactly the same direction**).

---

Now try $y = [100, 0]$:

- Dot = 100.
- Cosine = still 1.

Dot changes with size, cosine stays the same — because alignment didn’t change.

What cosine measures

- Cosine similarity asks: “How much do two backpacks point in the same direction?”
  - It ignores how stuffed the backpacks are (their total fullness) and looks only at the pattern of shelf fullness.
  - If two backpacks fill the same shelves in the same proportions, cosine ≈ 1 (very similar).
  - If they fill completely different shelves, cosine ≈ 0 (unrelated).
  - If they point opposite ways, cosine ≈ −1 (very opposite).

We’ll compute cosine between the two vectors you saw as examples:

```js
A = [1.0, 1.0, 0.6666667];
B = [0.9, 1.1, 0.6];
C = [0.1, 0.2, 3.0];
```

### Part A — compute cosine(A, B) step-by-step

1. A.B -> multiply component-wise, then add
   = 2.4

   Intuition: this “2.4” is the raw overlap — how much the filled shelves align in absolute terms.

2. Norm (fullness) of A: $||A||$ - square each component, sum, take square root:

   Square root: $\lVert A \rVert = \sqrt{2.4444444444444446} \approx 1.5634719199411433.$

3. Norm of B: $||B||$

   Square root: $\lVert B \rVert = \sqrt{2.38} \approx 1.5427248620541514.$

4. Cosine formula

$$
\cos(A, B) = \frac{A \cdot B}{\lVert A \rVert \lVert B \rVert}
$$

Compute denominator:

$\lVert A \rVert \lVert B \rVert \approx 1.5634719199411433 \times 1.5427248620541514 \approx \mathbf{2.4120070020167397}$.

Now divide:

$$
\cos(A, B) = \frac{2.4}{2.4120070020167397} \approx 0.9950219871
$$

Interpretation (backpack):

- The overlap (2.4) is almost as large as it could be given how full the backpacks are → A and B point almost the same way.
- Cosine ≈ 0.995 → very, very similar direction.
- Angle between them ≈ $$ arccos(0.995)≈5.72 \deg $$ — a tiny angle.

### Part B — compute cosine(A, C) step-by-step

1. Dot product A . C = 2.3

   Even though C is heavy on the 3rd shelf, A has some weight on the 3rd shelf too — so there is nonzero overlap.

2. Norm of C: $||C||$

   Square root: $\lVert C \rVert = \sqrt{9.05} \approx 3.0083217912982647.$

   Angle between them ≈ $$ arccos(0.4890)≈60.72 \deg $$

Interpretation (backpack):

- Overlap is 2.3 in absolute terms, but C’s backpack is much fuller (because of the big 3.0 on shelf 3).
- Relative to how full both backpacks are, the overlap is only about 49% of maximum possible → cosine ≈ 0.489.
- They are somewhat similar (share the story shelf a bit), but not nearly as aligned as A and B.

### Part C — normalized vectors (another view)

If we scale each vector to unit length (divide by its norm), then the dot product of normalized vectors equals the cosine.

Normalized A (divide each component by $\lVert A \rVert$):

$$
\hat{A} \approx [0.6396021, \; 0.6396021, \; 0.4264014]
$$

Normalized B:

$$
\hat{B} \approx [0.5833834, \; 0.7130241, \; 0.3889222]
$$

Dot product:

$$
\hat{A} \cdot \hat{B} \approx 0.9950219871 \quad \text{— same as } \cos(A, B).
$$

Normalized C:

$$
\hat{C} \approx [0.0332411, \; 0.0664822, \; 0.9972337]
$$

Dot product:

$$
\hat{A} \cdot \hat{C} \approx 0.48900518 \quad \text{— same as } \cos(A, C).
$$

### Part D — why cosine and not raw dot product?

- Raw dot = overlap and depends on how full backpacks are. If one backpack is twice as full, the dot doubles — that might not be what you want.
- Cosine removes the total-fullness factor and asks: do they emphasize the same shelves in the same proportions?

## Summary

- Dot product = how much the backpacks overlap in absolute terms.
- Norm = how full a backpack is.
- Cosine = overlap relative to how full both backpacks are (direction-only comparison).
